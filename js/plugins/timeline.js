const StellarTimeline={reactions:{"+1":"👍","-1":"👎",laugh:"😀",hooray:"🎉",confused:"😕",heart:"❤️",rocket:"🚀",eyes:"👀"},requestAPI:(r,o,i)=>{let s=5;!function n(){return new Promise((a,e)=>{let t=0,l=setTimeout(()=>{0===t&&(t=2,l=null,e("请求超时"),0==s&&i())},5e3);fetch(r).then(function(e){if(2!==t&&(clearTimeout(l),a(e),l=null,t=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){s=0,o(e)}).catch(function(e){0<s?(--s,setTimeout(()=>{n()},5e3)):i()})})}()},layoutDiv:e=>{const r=$(e.el)[0];$(r).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),StellarTimeline.requestAPI(e.api,function(e){$(r).find(".loading-wrap").remove();const a=e.content||e;a.forEach((e,a)=>{var t='<div class="timenode" index="'+a+'">';t+='<div class="header">';let l=new Date(e.created_at);if(t+="<p>"+l.toString().replace(/\sGMT([^.]*)/i,"")+"</p>",t+="</div>",t+='<div class="body">',t+='<p class="title">',t+='<a href="'+e.html_url+'" target="_blank" rel="external nofollow noopener noreferrer">',t+=e.title||e.name||e.tag_name,t+="</a>",t+="</p>",t+=marked.parse(e.body),t+='<div class="footer">',t+='<div class="flex left">',e.labels?e.labels.forEach((e,a)=>{t+='<div class="item label '+e.name+'" style="background:#'+e.color+"18;border-color:#"+e.color+'36">',t+="<span>"+e.name+"</span>",t+="</div>"}):e.zipball_url&&(t+='<a class="item download" href="'+e.zipball_url+'" target="_blank" rel="external nofollow noopener noreferrer">',t+="<span>📦 "+e.tag_name+".zip</span>",t+="</a>"),t+="</div>",t+='<div class="flex right">',e.reactions&&0<e.reactions.total_count)for(var n of Object.keys(StellarTimeline.reactions))0<e.reactions[n]&&(t+='<div class="item reaction '+n+'">',t+="<span>"+StellarTimeline.reactions[n]+" "+e.reactions[n]+"</span>",t+="</div>");e.comments&&(t+='<a class="item comments last" href="'+e.html_url+'" target="_blank" rel="external nofollow noopener noreferrer">',t+="<span>💬 "+e.comments+"</span>",t+="</a>"),t+="</div>",t+="</div>",t+="</div>",t+="</div>",$(r).append(t)})},function(){$(r).find(".loading-wrap svg").remove(),$(r).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){for(var e=document.getElementsByClassName("stellar-timeline-api"),a=0;a<e.length;a++){const n=e[a];var t,l=n.getAttribute("api");null!=l&&((t=new Object).el=n,t.api=l,StellarTimeline.layoutDiv(t))}});