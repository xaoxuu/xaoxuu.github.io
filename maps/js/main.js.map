{"version":3,"sources":["js/main.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","iter","len","arr2","console","log","stellar","version","github","util","diffDate","d","result","more","arguments","undefined","dateNow","Date","datePost","dateDiff","getTime","minute","hour","day","month","monthCount","dayCount","hourCount","minuteCount","parseInt","config","date_suffix","min","just","copy","id","msg","el","document","getElementById","select","execCommand","hud","toast","toggle","classList","duration","isNaN","createElement","add","innerHTML","body","appendChild","setTimeout","style","webkitTransition","opacity","removeChild","l_body","querySelector","sidebar","init","toc","jQuery","segs","$","each","idx","node","push","window","scroll","scrollTop","this","topSeg","seg","offset","top","removeClass","link","attr","encodeURI","addClass","click","remove","relativeDate","selector","forEach","item","$this","timeVal","getAttribute","relativeValue","innerText","registerTabsTag","querySelectorAll","element","addEventListener","event","preventDefault","contains","parentNode","children","target","tActive","replace","dispatchEvent","Event","bubbles","plugins","scrollreveal","loadScript","js","then","ScrollReveal","reveal","distance","interval","scale","easing","lazyload","defer","lazyLoadOptions","elements_selector","lazyLoadInstance","detail","instance","_window$lazyLoadInsta","update","_loop","key","_Object$keys","_i","setCardLink","els","getElementsByClassName","marked","keys","swiper","swiper_api","loadCSS","css","Swiper","slidesPerView","spaceBetween","centeredSlides","loop","pagination","clickable","navigation","nextEl","prevEl","preload","service","instant_page","type","integrity","FPConfig","delay","ignoreKeywords","maxRPS","hoverDelay","flying_pages","fancybox","concat","Fancybox","bind","groupAll","hideScrollbar","Thumbs","autoStart","caption","carousel","slide","$trigger","alt","search","$inputArea","$resultArea","focus","_stellar$search$stell","path","startsWith","filter","searchFunc","keydown","which","MutationObserver","mutationsList","observer","addedNodes","removedNodes","observe","childList","heti","Heti","_step","_iterator","rootSelector","$$root","spacingElement","enable"],"mappings":"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","file":"../../js/main.js","sourcesContent":["console.log('\\n' + '%c Stellar v' + stellar.version + ' %c\\n' + stellar.github + '\\n', 'color:#e8fafe;background:#03c7fa;padding:8px;border-radius:4px', 'margin-top:8px');\n// utils\nconst util = {\n\n  // https://github.com/jerryc127/hexo-theme-butterfly\n  diffDate: (d, more = false) => {\n    const dateNow = new Date()\n    const datePost = new Date(d)\n    const dateDiff = dateNow.getTime() - datePost.getTime()\n    const minute = 1000 * 60\n    const hour = minute * 60\n    const day = hour * 24\n    const month = day * 30\n\n    let result\n    if (more) {\n      const monthCount = dateDiff / month\n      const dayCount = dateDiff / day\n      const hourCount = dateDiff / hour\n      const minuteCount = dateDiff / minute\n\n      if (monthCount > 12) {\n        result = null\n      } else if (monthCount >= 1) {\n        result = parseInt(monthCount) + ' ' + stellar.config.date_suffix.month\n      } else if (dayCount >= 1) {\n        result = parseInt(dayCount) + ' ' + stellar.config.date_suffix.day\n      } else if (hourCount >= 1) {\n        result = parseInt(hourCount) + ' ' + stellar.config.date_suffix.hour\n      } else if (minuteCount >= 1) {\n        result = parseInt(minuteCount) + ' ' + stellar.config.date_suffix.min\n      } else {\n        result = stellar.config.date_suffix.just\n      }\n    } else {\n      result = parseInt(dateDiff / day)\n    }\n    return result\n  },\n\n  copy: (id, msg) => {\n    const el = document.getElementById(id);\n    if (el) {\n      el.select();\n      document.execCommand(\"Copy\");\n      if (msg && msg.length > 0) {\n        hud.toast(msg);\n      }\n    }\n  },\n\n  toggle: (id) => {\n    const el = document.getElementById(id);\n    if (el) {\n      el.classList.toggle(\"display\");\n    }\n  },\n}\n\nconst hud = {\n  toast: (msg, duration) => {\n    duration = isNaN(duration) ? 2000 : duration;\n    var el = document.createElement('div');\n    el.classList.add('toast');\n    el.innerHTML = msg;\n    document.body.appendChild(el);\n    setTimeout(function () {\n      var d = 0.5;\n      el.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';\n      el.style.opacity = '0';\n      setTimeout(function () { document.body.removeChild(el) }, d * 1000);\n    }, duration);\n  },\n\n}\n\n// defines\n\nconst l_body = document.querySelector('.l_body');\n\nconst sidebar = {\n  toggle: () => {\n    if (l_body) {\n      l_body.classList.add('mobile');\n      l_body.classList.toggle(\"sidebar\");\n    }\n  }\n}\n\nconst init = {\n  toc: () => {\n    stellar.jQuery(() => {\n      const scrollOffset = 32;\n      var segs = [];\n      $(\"article.md-text :header\").each(function (idx, node) {\n        segs.push(node)\n      });\n      // 滚动\n      $(document, window).scroll(function (e) {\n        var scrollTop = $(this).scrollTop();\n        var topSeg = null\n        for (var idx in segs) {\n          var seg = $(segs[idx])\n          if (seg.offset().top > scrollTop + scrollOffset) {\n            continue\n          }\n          if (!topSeg) {\n            topSeg = seg\n          } else if (seg.offset().top >= topSeg.offset().top) {\n            topSeg = seg\n          }\n        }\n        if (topSeg) {\n          $(\".toc#toc a.toc-link\").removeClass(\"active\")\n          var link = \"#\" + topSeg.attr(\"id\")\n          if (link != '#undefined') {\n            $('.toc#toc a.toc-link[href=\"' + encodeURI(link) + '\"]').addClass(\"active\")\n          } else {\n            $('.toc#toc a.toc-link:first').addClass(\"active\")\n          }\n        }\n      })\n    })\n  },\n  sidebar: () => {\n    stellar.jQuery(() => {\n      $(\".toc#toc a.toc-link\").click(function (e) {\n        l_body.classList.remove(\"sidebar\");\n      });\n    })\n  },\n  relativeDate: (selector) => {\n    selector.forEach(item => {\n      const $this = item\n      const timeVal = $this.getAttribute('datetime')\n      let relativeValue = util.diffDate(timeVal, true)\n      if (relativeValue) {\n        $this.innerText = relativeValue\n      }\n    })\n  },\n  /**\n   * Tabs tag listener (without twitter bootstrap).\n   */\n  registerTabsTag: function () {\n    // Binding `nav-tabs` & `tab-content` by real time permalink changing.\n    document.querySelectorAll('.tabs ul.nav-tabs .tab').forEach(element => {\n      element.addEventListener('click', event => {\n        event.preventDefault();\n        // Prevent selected tab to select again.\n        if (element.classList.contains('active')) return;\n        // Add & Remove active class on `nav-tabs` & `tab-content`.\n        [...element.parentNode.children].forEach(target => {\n          target.classList.toggle('active', target === element);\n        });\n        // https://stackoverflow.com/questions/20306204/using-queryselector-with-ids-that-are-numbers\n        const tActive = document.getElementById(element.querySelector('a').getAttribute('href').replace('#', ''));\n        [...tActive.parentNode.children].forEach(target => {\n          target.classList.toggle('active', target === tActive);\n        });\n        // Trigger event\n        tActive.dispatchEvent(new Event('tabs:click', {\n          bubbles: true\n        }));\n      });\n    });\n\n    window.dispatchEvent(new Event('tabs:register'));\n  },\n\n}\n\n\n// init\ninit.toc()\ninit.sidebar()\ninit.relativeDate(document.querySelectorAll('#post-meta time'))\ninit.registerTabsTag()\n\n// scrollreveal\nif (stellar.plugins.scrollreveal) {\n  stellar.loadScript(stellar.plugins.scrollreveal.js).then(function () {\n    ScrollReveal().reveal(\"body .reveal\", {\n      distance: stellar.plugins.scrollreveal.distance,\n      duration: stellar.plugins.scrollreveal.duration,\n      interval: stellar.plugins.scrollreveal.interval,\n      scale: stellar.plugins.scrollreveal.scale,\n      easing: \"ease-out\"\n    });\n  })\n}\n\n// lazyload\nif (stellar.plugins.lazyload) {\n  stellar.loadScript(stellar.plugins.lazyload.js, { defer: true })\n  // https://www.npmjs.com/package/vanilla-lazyload\n  // Set the options globally\n  // to make LazyLoad self-initialize\n  window.lazyLoadOptions = {\n    elements_selector: \".lazy\",\n  };\n  // Listen to the initialization event\n  // and get the instance of LazyLoad\n  window.addEventListener(\n    \"LazyLoad::Initialized\",\n    function (event) {\n      window.lazyLoadInstance = event.detail.instance;\n    },\n    false\n  );\n  document.addEventListener('DOMContentLoaded', function () {\n    window.lazyLoadInstance?.update();\n  });\n}\n\n// stellar js\nif (stellar.plugins.stellar) {\n  for (let key of Object.keys(stellar.plugins.stellar)) {\n    let js = stellar.plugins.stellar[key];\n    if (key == 'linkcard') {\n      stellar.loadScript(js, { defer: true }).then(function () {\n        setCardLink(document.querySelectorAll('a.link-card[cardlink]'));\n      });\n    } else {\n      const els = document.getElementsByClassName('stellar-' + key + '-api');\n      if (els != undefined && els.length > 0) {\n        stellar.jQuery(() => {\n          stellar.loadScript(js, { defer: true });\n          if (key == 'timeline') {\n            stellar.loadScript(stellar.plugins.marked);\n          }\n        })\n      }\n    }\n  }\n}\n\n// swiper\nif (stellar.plugins.swiper) {\n  const swiper_api = document.getElementById('swiper-api');\n  if (swiper_api != undefined) {\n    stellar.loadCSS(stellar.plugins.swiper.css);\n    stellar.loadScript(stellar.plugins.swiper.js, { defer: true }).then(function () {\n      var swiper = new Swiper('.swiper-container', {\n        slidesPerView: 'auto',\n        spaceBetween: 8,\n        centeredSlides: true,\n        loop: true,\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n      });\n    })\n  }\n}\n\n// preload\nif (stellar.plugins.preload) {\n  if (stellar.plugins.preload.service == 'instant_page') {\n    stellar.loadScript(stellar.plugins.preload.instant_page, {\n      defer: true,\n      type: 'module',\n      integrity: 'sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1'\n    })\n  } else if (stellar.plugins.preload.service == 'flying_pages') {\n    window.FPConfig = {\n      delay: 0,\n      ignoreKeywords: [],\n      maxRPS: 5,\n      hoverDelay: 25\n    };\n    stellar.loadScript(stellar.plugins.preload.flying_pages, { defer: true })\n  }\n}\n\n// fancybox\nif (stellar.plugins.fancybox) {\n  let selector = 'img[fancybox]:not(.error)';\n  if (stellar.plugins.fancybox.selector) {\n    selector += `, ${stellar.plugins.fancybox.selector}`\n  }\n  if (document.querySelectorAll(selector).length !== 0) {\n    stellar.loadCSS(stellar.plugins.fancybox.css);\n    stellar.loadScript(stellar.plugins.fancybox.js, { defer: true }).then(function () {\n      Fancybox.bind(selector, {\n        groupAll: true,\n        hideScrollbar: false,\n        Thumbs: {\n          autoStart: false,\n        },\n        caption: function (fancybox, carousel, slide) {\n          return slide.$trigger.alt || null\n        }\n      });\n    })\n  }\n}\n\n\nif (stellar.search.service) {\n  if (stellar.search.service == 'local_search') {\n    stellar.jQuery(() => {\n      stellar.loadScript('/js/search/local-search.js', { defer: true }).then(function () {\n        var $inputArea = $(\"input#search-input\");\n        var $resultArea = document.querySelector(\"div#search-result\");\n        $inputArea.focus(function() {\n          var path = stellar.search[stellar.search.service]?.path || '/search.json';\n          if (!path.startsWith('/')) {\n            path = '/' + path;\n          }\n          const filter = $inputArea.attr('data-filter') || '';\n          searchFunc(path, filter, 'search-input', 'search-result');\n        });\n        $inputArea.keydown(function(e) {\n          if (e.which == 13) {\n            e.preventDefault();\n          }\n        });\n        var observer = new MutationObserver(function(mutationsList, observer) {\n          if (mutationsList.length == 1) {\n            if (mutationsList[0].addedNodes.length) {\n              $('.search-wrapper').removeClass('noresult');\n            } else if (mutationsList[0].removedNodes.length) {\n              $('.search-wrapper').addClass('noresult');\n            }\n          }\n        });\n        observer.observe($resultArea, { childList: true });\n      });\n    })\n  }\n}\n\n\n// heti\nif (stellar.plugins.heti) {\n  stellar.loadCSS(stellar.plugins.heti.css);\n  stellar.loadScript(stellar.plugins.heti.js, { defer: true }).then(function () {\n    const heti = new Heti('.heti');\n    \n    // Copied from heti.autoSpacing() without DOMContentLoaded.\n    // https://github.com/sivan/heti/blob/eadee6a3b748b3b7924a9e7d5b395d4bce479c9a/js/heti-addon.js\n    //\n    // We managed to minimize the code modification to ensure .autoSpacing()\n    // is synced with upstream; therefore, we use `.bind()` to emulate the \n    // behavior of .autoSpacing() so we can even modify almost no code.\n    void (function () {\n      const $$rootList = document.querySelectorAll(this.rootSelector)\n\n      for (let $$root of $$rootList) {\n        this.spacingElement($$root)\n      }\n    }).bind(heti)();\n\n    stellar.plugins.heti.enable = false;\n  });\n}\n"]}