async function copyCode(e){if(navigator.clipboard)try{await navigator.clipboard.writeText(e)}catch(e){codeCopyBtn.innerText="未获得用户许可",codeCopyBtn.classList.add("warning"),setTimeout(()=>{codeCopyBtn.innerText=ctx.copycode.default_text,codeCopyBtn.classList.remove("warning")},3e3)}else codeCopyBtn.innerText="当前浏览器不支持此api",codeCopyBtn.classList.add("warning"),setTimeout(()=>{codeCopyBtn.innerText=ctx.copycode.default_text,codeCopyBtn.classList.remove("warning")},3e3)}window.codeElements.forEach(e=>{const t=document.createElement("div");t.classList.add("copy-btn"),t.innerHTML=ctx.copycode.default_text,e.appendChild(t),t.addEventListener("click",async()=>{await copyCode(e.children[0]?.innerText),t.innerHTML=ctx.copycode.success_text,t.classList.add("success"),hud.toast(ctx.copycode.toast,2500),setTimeout(()=>{t.innerHTML=ctx.copycode.default_text,t.classList.remove("success")},3e3)})});