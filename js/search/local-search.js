var searchFunc=function(t,f,n,s){$.ajax({url:t,dataType:"json",success:function(t){var e,r=t,t=document.getElementById(n);t&&(e=document.getElementById(s),t.addEventListener("input",function(){var u=[],h=function(t){for(var n,e=[],r=0;r<t.length;r++)for(n=r+1;n<t.length+1;n++)e.push(t.slice(r,n).join(" "));return e}(this.value.trim().toLowerCase().split(" ")).sort(function(t,n){return n.split(" ").length-t.split(" ").length});if(e.innerHTML="",!(this.value.trim().length<=0)&&(r.forEach(function(t){var n,e,r,s,a,i,l,c,o;t.title?.trim().length&&t.content?.trim().length&&(n=0,f&&!t.path.includes(f)||(o=t.title.trim(),e=o.toLowerCase(),r=t.content,s=r.toLowerCase(),c=t.path,l=i=a=-1,""!==r&&h.forEach(function(t){a=e.indexOf(t),i=s.indexOf(t),(0<=a||0<=i)&&(n+=1,i<0&&(i=0),l<0&&(l=i))}),0<n&&((t={}).rank=n,t.str="<li><a href='"+c+"'><span class='search-result-title'>"+o+"</span>",0<=l&&(c=l+80,(c=0==(o=(o=l-20)<0?0:o)?100:c)>r.length&&(c=r.length),o=r.substring(o,c),c=new RegExp(h.join("|"),"gi"),o=o.replace(c,function(t){return'<span class="search-keyword">'+t+"</span>"}),t.str+='<p class="search-result-content">'+o+"...</p>"),t.str+="</a></li>",u.push(t))))}),u.length)){u.sort(function(t,n){return n.rank-t.rank});for(var t='<ul class="search-result-list">',n=0;n<u.length;n++)t+=u[n].str;e.innerHTML=t+="</ul>"}}))}})};