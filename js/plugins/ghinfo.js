"use strict";var GitHubInfo={requestAPI:function(t,e,n){var i=5;!function r(){return new Promise((function(o,u){var a=0,f=setTimeout((function(){0===a&&(a=2,f=null,u("请求超时"),0==i&&n())}),5e3);fetch(t).then((function(t){if(2!==a&&(clearTimeout(f),o(t),f=null,a=1),t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(t){i=0,e(t)}))["catch"]((function(t){i>0?(i-=1,setTimeout((function(){r()}),5e3)):n()}))}))}()},layout:function(t){var e=$(t.el)[0];function n(t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];$(e).find("[type=text]#"+r).text(t[r]),$(e).find("[type=link]#"+r).attr("href",t[r]),$(e).find("[type=img]#"+r).attr("src",t[r])}}GitHubInfo.requestAPI(t.api,(function(t){var i=e.getAttribute("index");if(i!=undefined){var r=t.content||t;if(r&&r.length>i){var o=r[i];o["latest-tag-name"]=o.name,n(r[i])}}else n(t)}),(function(){}))}};$((function(){for(var t=document.getElementsByClassName("stellar-ghinfo-api"),e=0;e<t.length;e++){var n=t[e],i=n.getAttribute("api");if(null!=i){var r=new Object;r.el=n,r.api=i,r["class"]=n.getAttribute("class"),GitHubInfo.layout(r)}}}));
//# sourceMappingURL=../../maps/js/plugins/ghinfo.js.map
