const StellarTimeline={requestAPI:(o,r,a)=>{let s=5;!function l(){return new Promise((t,e)=>{let n=0,i=setTimeout(()=>{0===n&&(n=2,i=null,e("请求超时"),0==s&&a())},5e3);fetch(o).then(function(e){if(2!==n&&(clearTimeout(i),t(e),i=null,n=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){s=0,r(e)}).catch(function(e){0<s?(--s,setTimeout(()=>{l()},5e3)):a()})})}()},layoutDiv:e=>{const n=$(e.el)[0];$(n).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),StellarTimeline.requestAPI(e.api,function(e){$(n).find(".loading-wrap").remove();const t=e.content||e;e=n.getAttribute("reversed");""!=e&&1!=e||t.reverse(),t.forEach((e,t)=>{t='<div class="timenode" index="'+t+'">';t+='<div class="header">',t+="<p>"+e.title+"</p>",t+="</div>",t+='<div class="body fs14">',t+=marked.parse(e.body),t+="</div>",t+="</div>",$(n).append(t)})},function(){$(n).find(".loading-wrap svg").remove(),$(n).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){for(var e=document.getElementsByClassName("stellar-timeline-api"),t=0;t<e.length;t++){const l=e[t];var n,i=l.getAttribute("api");null!=i&&((n=new Object).el=l,n.api=i,StellarTimeline.layoutDiv(n))}});