const StellarTimeline={reactions:{"+1":"👍","-1":"👎",laugh:"😀",hooray:"🎉",confused:"😕",heart:"❤️",rocket:"🚀",eyes:"👀"},requestAPI:(r,o,i)=>{let s=5;!function t(){return new Promise((l,e)=>{let a=0,n=setTimeout(()=>{0===a&&(a=2,n=null,e("请求超时"),0==s&&i())},5e3);fetch(r).then(function(e){if(2!==a&&(clearTimeout(n),l(e),n=null,a=1),e.ok)return e.json();throw new Error("Network response was not ok.")}).then(function(e){s=0,o(e)}).catch(function(e){0<s?(--s,setTimeout(()=>{t()},5e3)):i()})})}()},layoutDiv:e=>{const r=$(e.el)[0];$(r).append('<div class="loading-wrap"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg><p></p></div>'),StellarTimeline.requestAPI(e.api,function(e){$(r).find(".loading-wrap").remove();const l=e.content||e;l.forEach((e,l)=>{var a='<div class="timenode" index="'+l+'">';a+='<div class="header">';let n=new Date(e.created_at);if(a+="<p>"+n.toString().replace(/\sGMT([^.]*)/i,"")+"</p>",a+="</div>",a+='<div class="body">',a+='<p class="title">',a+='<a href="'+e.html_url+'" target="_blank" rel="external nofollow noopener noreferrer">',a+=e.title||e.name||e.tag_name,a+="</a>",a+="</p>",a+=marked.parse(e.body),a+='<div class="footer">',a+='<div class="flex left">',e.labels?e.labels.forEach((e,l)=>{a+='<div class="item label '+e.name+'" style="background:#'+e.color+"18;border-color:#"+e.color+'36">',a+="<span>"+e.name+"</span>",a+="</div>"}):e.zipball_url&&(a+='<a class="item download" href="'+e.zipball_url+'" target="_blank" rel="external nofollow noopener noreferrer">',a+="<span>📦 "+e.tag_name+".zip</span>",a+="</a>"),a+="</div>",a+='<div class="flex right">',e.reactions&&0<e.reactions.total_count)for(var t of Object.keys(StellarTimeline.reactions))0<e.reactions[t]&&(a+='<div class="item reaction '+t+'">',a+="<span>"+StellarTimeline.reactions[t]+" "+e.reactions[t]+"</span>",a+="</div>");null!=e.comments&&(a+='<a class="item comments last" href="'+e.html_url+'" target="_blank" rel="external nofollow noopener noreferrer">',a+="<span>💬 "+(e.comments||0)+"</span>",a+="</a>"),a+="</div>",a+="</div>",a+="</div>",a+="</div>",$(r).append(a)})},function(){$(r).find(".loading-wrap svg").remove(),$(r).find(".loading-wrap p").text("加载失败，请稍后重试。")})}};$(function(){for(var e=document.getElementsByClassName("stellar-timeline-api"),l=0;l<e.length;l++){const t=e[l];var a,n=t.getAttribute("api");null!=n&&((a=new Object).el=t,a.api=n,StellarTimeline.layoutDiv(a))}});