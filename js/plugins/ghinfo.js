const GitHubInfo={requestAPI:(r,u,l)=>{let a=5;!function i(){return new Promise((e,t)=>{let n=0,o=setTimeout(()=>{0===n&&(n=2,o=null,t("请求超时"),0==a&&l())},5e3);fetch(r).then(function(t){if(2!==n&&(clearTimeout(o),e(t),o=null,n=1),t.ok)return t.json();throw new Error("Network response was not ok.")}).then(function(t){a=0,u(t)}).catch(function(t){0<a?(--a,setTimeout(()=>{i()},5e3)):l()})})}()},layout:t=>{const o=$(t.el)[0];function i(t){for(var e of Object.keys(t))$(o).find("[type=text]#"+e).text(t[e]),$(o).find("[type=link]#"+e).attr("href",t[e]),$(o).find("[type=img]#"+e).attr("src",t[e])}GitHubInfo.requestAPI(t.api,function(t){var e=o.getAttribute("index");if(null!=e){var n=t.content||t;if(n&&n.length>e){let t=n[e];t["latest-tag-name"]=t.name,i(n[e])}}else i(t)},function(){})}};$(function(){for(var t=document.getElementsByClassName("stellar-ghinfo-api"),e=0;e<t.length;e++){const i=t[e];var n,o=i.getAttribute("api");null!=o&&((n=new Object).el=i,n.api=o,n.class=i.getAttribute("class"),GitHubInfo.layout(n))}});